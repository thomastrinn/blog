<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Simplify Remote Access with custom SSH Connection Configs | Blog</title><meta name=keywords content><meta name=description content="A korábbi SSH túl sok autentikációs próbák hiba bejegyzést követően tudomást szereztem arról, hogy egy kapcsolódáshoz tartozó speciális beállításokat egy config fájlban is meg lehet adni, ami nagyban megkönnyíti a dolgomat, mert nem kell megjegyeznem a beállításokat.
OpenSSH client-side configuration file: ~/.ssh/config Alap esetben az SSH config fájl nem feltétlenül létezik, ezért létre kell hozni úgy, hogy csak az adott felhasználó írhassa és olvashassa:
touch ~/.ssh/config && chmod 600 ~/.ssh/config A fájl struktúrája:"><meta name=author content><link rel=canonical href=https://thomastrinn.github.io/blog/posts/simplify-remote-access-with-custom-ssh-connection-configs/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/blog/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://thomastrinn.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://thomastrinn.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://thomastrinn.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://thomastrinn.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://thomastrinn.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Simplify Remote Access with custom SSH Connection Configs"><meta property="og:description" content="A korábbi SSH túl sok autentikációs próbák hiba bejegyzést követően tudomást szereztem arról, hogy egy kapcsolódáshoz tartozó speciális beállításokat egy config fájlban is meg lehet adni, ami nagyban megkönnyíti a dolgomat, mert nem kell megjegyeznem a beállításokat.
OpenSSH client-side configuration file: ~/.ssh/config Alap esetben az SSH config fájl nem feltétlenül létezik, ezért létre kell hozni úgy, hogy csak az adott felhasználó írhassa és olvashassa:
touch ~/.ssh/config && chmod 600 ~/.ssh/config A fájl struktúrája:"><meta property="og:type" content="article"><meta property="og:url" content="https://thomastrinn.github.io/blog/posts/simplify-remote-access-with-custom-ssh-connection-configs/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-21T11:29:03+02:00"><meta property="article:modified_time" content="2022-04-21T11:29:03+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Simplify Remote Access with custom SSH Connection Configs"><meta name=twitter:description content="A korábbi SSH túl sok autentikációs próbák hiba bejegyzést követően tudomást szereztem arról, hogy egy kapcsolódáshoz tartozó speciális beállításokat egy config fájlban is meg lehet adni, ami nagyban megkönnyíti a dolgomat, mert nem kell megjegyeznem a beállításokat.
OpenSSH client-side configuration file: ~/.ssh/config Alap esetben az SSH config fájl nem feltétlenül létezik, ezért létre kell hozni úgy, hogy csak az adott felhasználó írhassa és olvashassa:
touch ~/.ssh/config && chmod 600 ~/.ssh/config A fájl struktúrája:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://thomastrinn.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Simplify Remote Access with custom SSH Connection Configs","item":"https://thomastrinn.github.io/blog/posts/simplify-remote-access-with-custom-ssh-connection-configs/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Simplify Remote Access with custom SSH Connection Configs","name":"Simplify Remote Access with custom SSH Connection Configs","description":"A korábbi SSH túl sok autentikációs próbák hiba bejegyzést követően tudomást szereztem arról, hogy egy kapcsolódáshoz tartozó speciális beállításokat egy config fájlban is meg lehet adni, ami nagyban megkönnyíti a dolgomat, mert nem kell megjegyeznem a beállításokat.\nOpenSSH client-side configuration file: ~/.ssh/config Alap esetben az SSH config fájl nem feltétlenül létezik, ezért létre kell hozni úgy, hogy csak az adott felhasználó írhassa és olvashassa:\ntouch ~/.ssh/config \u0026amp;\u0026amp; chmod 600 ~/.ssh/config A fájl struktúrája:","keywords":[],"articleBody":"A korábbi SSH túl sok autentikációs próbák hiba bejegyzést követően tudomást szereztem arról, hogy egy kapcsolódáshoz tartozó speciális beállításokat egy config fájlban is meg lehet adni, ami nagyban megkönnyíti a dolgomat, mert nem kell megjegyeznem a beállításokat.\nOpenSSH client-side configuration file: ~/.ssh/config Alap esetben az SSH config fájl nem feltétlenül létezik, ezért létre kell hozni úgy, hogy csak az adott felhasználó írhassa és olvashassa:\ntouch ~/.ssh/config \u0026\u0026 chmod 600 ~/.ssh/config A fájl struktúrája:\n# ~/.ssh/config Host hostname1 SSH_OPTION value SSH_OPTION value Host hostname2 SSH_OPTION value Host * SSH_OPTION value A fájl tartalma stanzákra/strófákra van osztva. Minden stanza a Host direktívával kezdődik és SSH beállításokat tartalmaz, amelyek a távoli ssh szerverhez való csatlakozáshoz lesznek felhasználva.\nA fájl tartalmazhat üres sorokat. Indentálásra nincs szükség, de olvashatóság szempontjából hasznos.\nA #-al kezdődő sorok megjegyzésekként vannak kezelve.\nA Host direktíva állhat egy pattern-ből vagy szóközzel elválasztott pattern listából. A patternekről illetve a lehetséges ssh opciókról az ssh_config manualjában olvashatunk részletesebben: man ssh_config\nAz SSH kliens a config fájlt stanzáról stanzára olvassa, és ha több mint egy pattern illeszkedik, akkor az elsőnek illeszkedő stanza opciói elsőbbséget élveznek. Ez azt jelenti, hogy az illeszkedő stanzák opciói bár nem írják felül a korábbiakat, de újakat hozzáfűzhetnek. Ezért érdemes a host-specifikus beállításokat a fájl elejére helyezni és a végére az általánosabbakat.\nAz SSH config fájl más programok által is használt, mint scp, sftp és rsync.\nSSH config fájl példa Egy tipikus példa távoli szerverhez ssh-val való csatlakozásra:\nssh ubuntu@server.example.com -p 2322 Az ssh config fájl segítségével helyettesíthetjük a fentit az alábbival:\nssh server Az ehhez tartozó config:\n# ~/.ssh/config Host dev HostName server.example.com User ubuntu Port 2322 SSH config fájl opciók felülbírálása Az ssh kliens a következő precedencia sorrendben olvassa a beállításait:\nparancssorban megadott opciók\na ~/.ssh/config által meghatározott opciók\na /etc/ssh/ssh_config rendszer szintű általános opciók\nVan lehetőség alternatív config fájl megadására is a -F kapcsolóval.\nAnnak érdekében, hogy az ssh kliens ignoráljon minden beállítást a config fájlok alapján használhatjuk az alábbit:\nssh -F /dev/null user@example.com Összegzés A ~/.ssh/config fájl használata igen megegyszerűsíti az ember életét, nem kell fejben tartani a host-ok ip címét, ssh port-ot és egyéb beállításokat.\n","wordCount":"351","inLanguage":"en","datePublished":"2022-04-21T11:29:03+02:00","dateModified":"2022-04-21T11:29:03+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://thomastrinn.github.io/blog/posts/simplify-remote-access-with-custom-ssh-connection-configs/"},"publisher":{"@type":"Organization","name":"Blog","logo":{"@type":"ImageObject","url":"https://thomastrinn.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://thomastrinn.github.io/blog/ accesskey=h title="Blog (Alt + H)">Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://thomastrinn.github.io/blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://thomastrinn.github.io/blog/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://thomastrinn.github.io/blog/series/ title=Series><span>Series</span></a></li><li><a href=https://thomastrinn.github.io/blog/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://thomastrinn.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://thomastrinn.github.io/blog/posts/>Posts</a></div><h1 class=post-title>Simplify Remote Access with custom SSH Connection Configs</h1><div class=post-meta><span title='2022-04-21 11:29:03 +0200 CEST'>April 21, 2022</span></div></header><div class=post-content><p>A korábbi <a href=https://thomastrinn.github.io/blog/posts/ssh-too-many-authentication-failures/>SSH túl sok autentikációs próbák hiba</a> bejegyzést követően tudomást szereztem arról, hogy egy kapcsolódáshoz tartozó speciális beállításokat egy config fájlban is meg lehet adni, ami nagyban megkönnyíti a dolgomat, mert nem kell megjegyeznem a beállításokat.</p><h1 id=openssh-client-side-configuration-file--sshconfig>OpenSSH client-side configuration file: ~/.ssh/config<a hidden class=anchor aria-hidden=true href=#openssh-client-side-configuration-file--sshconfig>#</a></h1><p>Alap esetben az SSH config fájl nem feltétlenül létezik, ezért létre kell hozni úgy, hogy csak az adott felhasználó írhassa és olvashassa:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>touch ~/.ssh/config <span style=color:#f92672>&amp;&amp;</span> chmod <span style=color:#ae81ff>600</span> ~/.ssh/config
</span></span></code></pre></div><p>A fájl struktúrája:</p><pre tabindex=0><code># ~/.ssh/config
Host hostname1
    SSH_OPTION value
    SSH_OPTION value

Host hostname2
    SSH_OPTION value

Host *
    SSH_OPTION value
</code></pre><p>A fájl tartalma stanzákra/strófákra van osztva. Minden stanza a <code>Host</code> direktívával kezdődik és SSH beállításokat tartalmaz, amelyek a távoli ssh szerverhez való csatlakozáshoz lesznek felhasználva.</p><p>A fájl tartalmazhat üres sorokat. Indentálásra nincs szükség, de olvashatóság szempontjából hasznos.</p><p>A <code>#</code>-al kezdődő sorok megjegyzésekként vannak kezelve.</p><p>A <code>Host</code> direktíva állhat egy pattern-ből vagy szóközzel elválasztott pattern listából. A patternekről illetve a lehetséges ssh opciókról az <code>ssh_config</code> manualjában olvashatunk részletesebben: <code>man ssh_config</code></p><p>Az SSH kliens a config fájlt stanzáról stanzára olvassa, és ha több mint egy pattern illeszkedik, akkor az elsőnek illeszkedő stanza opciói elsőbbséget élveznek. Ez azt jelenti, hogy az illeszkedő stanzák opciói bár nem írják felül a korábbiakat, de újakat hozzáfűzhetnek. Ezért érdemes a host-specifikus beállításokat a fájl elejére helyezni és a végére az általánosabbakat.</p><p>Az SSH config fájl más programok által is használt, mint <code>scp</code>, <code>sftp</code> és <code>rsync</code>.</p><h1 id=ssh-config-fájl-példa>SSH config fájl példa<a hidden class=anchor aria-hidden=true href=#ssh-config-fájl-példa>#</a></h1><p>Egy tipikus példa távoli szerverhez ssh-val való csatlakozásra:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh ubuntu@server.example.com -p <span style=color:#ae81ff>2322</span>
</span></span></code></pre></div><p>Az ssh config fájl segítségével helyettesíthetjük a fentit az alábbival:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh server
</span></span></code></pre></div><p>Az ehhez tartozó config:</p><pre tabindex=0><code># ~/.ssh/config
Host dev
    HostName server.example.com
    User ubuntu
    Port 2322
</code></pre><h1 id=ssh-config-fájl-opciók-felülbírálása>SSH config fájl opciók felülbírálása<a hidden class=anchor aria-hidden=true href=#ssh-config-fájl-opciók-felülbírálása>#</a></h1><p>Az ssh kliens a következő precedencia sorrendben olvassa a beállításait:</p><ol><li><p>parancssorban megadott opciók</p></li><li><p>a <code>~/.ssh/config</code> által meghatározott opciók</p></li><li><p>a <code>/etc/ssh/ssh_config</code> rendszer szintű általános opciók</p></li></ol><p>Van lehetőség alternatív config fájl megadására is a <code>-F</code> kapcsolóval.</p><p>Annak érdekében, hogy az ssh kliens ignoráljon minden beállítást a config fájlok alapján használhatjuk az alábbit:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh -F /dev/null user@example.com
</span></span></code></pre></div><h1 id=összegzés>Összegzés<a hidden class=anchor aria-hidden=true href=#összegzés>#</a></h1><p>A <code>~/.ssh/config</code> fájl használata igen megegyszerűsíti az ember életét, nem kell fejben tartani a host-ok ip címét, ssh port-ot és egyéb beállításokat.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://thomastrinn.github.io/blog/>Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>