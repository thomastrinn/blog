<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Home Lab Server: choose OS 2.0 | Blog</title><meta name=keywords content><meta name=description content="Az év elején vágtam bele a home lab server projektbe és operációs rendszernek az Ubuntu Server-t választottam. A döntésről és beállításokról írt bejegyzésemben többek közt több lehetséges operációs rendszert is felsoroltam, amelyen elgondolkoztam, hogy használhatnám, de az ubuntu popularitása és egyszerű telepítése miatt végül azokat elvetettem.
Néhány hónap elteltével azonban elkezdett motoszkálni a fejemben, hogy nekem tényleg szükségem van-e az ubuntura, kell-e nekem a sok csomag amivel jön, kell-e nekem a fix verzió, kell-e nekem a régebbi kernel (és nem egy újabb)."><meta name=author content><link rel=canonical href=https://thomastrinn.github.io/blog/posts/home-lab-server-setup-2/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/blog/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://thomastrinn.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://thomastrinn.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://thomastrinn.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://thomastrinn.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://thomastrinn.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.96.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Home Lab Server: choose OS 2.0"><meta property="og:description" content="Az év elején vágtam bele a home lab server projektbe és operációs rendszernek az Ubuntu Server-t választottam. A döntésről és beállításokról írt bejegyzésemben többek közt több lehetséges operációs rendszert is felsoroltam, amelyen elgondolkoztam, hogy használhatnám, de az ubuntu popularitása és egyszerű telepítése miatt végül azokat elvetettem.
Néhány hónap elteltével azonban elkezdett motoszkálni a fejemben, hogy nekem tényleg szükségem van-e az ubuntura, kell-e nekem a sok csomag amivel jön, kell-e nekem a fix verzió, kell-e nekem a régebbi kernel (és nem egy újabb)."><meta property="og:type" content="article"><meta property="og:url" content="https://thomastrinn.github.io/blog/posts/home-lab-server-setup-2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-24T09:23:22+02:00"><meta property="article:modified_time" content="2022-04-24T09:23:22+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Home Lab Server: choose OS 2.0"><meta name=twitter:description content="Az év elején vágtam bele a home lab server projektbe és operációs rendszernek az Ubuntu Server-t választottam. A döntésről és beállításokról írt bejegyzésemben többek közt több lehetséges operációs rendszert is felsoroltam, amelyen elgondolkoztam, hogy használhatnám, de az ubuntu popularitása és egyszerű telepítése miatt végül azokat elvetettem.
Néhány hónap elteltével azonban elkezdett motoszkálni a fejemben, hogy nekem tényleg szükségem van-e az ubuntura, kell-e nekem a sok csomag amivel jön, kell-e nekem a fix verzió, kell-e nekem a régebbi kernel (és nem egy újabb)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://thomastrinn.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Home Lab Server: choose OS 2.0","item":"https://thomastrinn.github.io/blog/posts/home-lab-server-setup-2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Home Lab Server: choose OS 2.0","name":"Home Lab Server: choose OS 2.0","description":"Az év elején vágtam bele a home lab server projektbe és operációs rendszernek az Ubuntu Server-t választottam. A döntésről és beállításokról írt bejegyzésemben többek közt több lehetséges operációs rendszert is felsoroltam, amelyen elgondolkoztam, hogy használhatnám, de az ubuntu popularitása és egyszerű telepítése miatt végül azokat elvetettem.\nNéhány hónap elteltével azonban elkezdett motoszkálni a fejemben, hogy nekem tényleg szükségem van-e az ubuntura, kell-e nekem a sok csomag amivel jön, kell-e nekem a fix verzió, kell-e nekem a régebbi kernel (és nem egy újabb).","keywords":[],"articleBody":"Az év elején vágtam bele a home lab server projektbe és operációs rendszernek az Ubuntu Server-t választottam. A döntésről és beállításokról írt bejegyzésemben többek közt több lehetséges operációs rendszert is felsoroltam, amelyen elgondolkoztam, hogy használhatnám, de az ubuntu popularitása és egyszerű telepítése miatt végül azokat elvetettem.\nNéhány hónap elteltével azonban elkezdett motoszkálni a fejemben, hogy nekem tényleg szükségem van-e az ubuntura, kell-e nekem a sok csomag amivel jön, kell-e nekem a fix verzió, kell-e nekem a régebbi kernel (és nem egy újabb). Nincs-e másik os, ami a kis home lab server-em számára elégséges: kicsi erőforrás, kevés előtelepített csomaggal. Mivel a fő célom, hogy containerizált környezetben futtassam a használt szolgáltatásokat, valami minimális számomra elégséges lehet. És ez volt az a pont, amikor elgondolkoztam az arch linux használatán. De valahogy nem vonzott be és elkezdtem szemezni az alpine linux-szal. Az alpine kimondottan kis erőforrás igényű, minimális linux. És úgy gondoltam ez kell nekem.\nAlpine linux telepítése Be kell valljam, elsőre úgy éreztem a parancssori telepítés nehéz lesz, sok hiba lehetőséget rejt, de meglepően jó élmény volt.\nAz alpine linux-nak több változata van, közülük kettő jöhetett számomra szóba:\n  STANDARD: Alpine as it was intended. Just enough to get you started. Network connection is required.\n  EXTENDED: Most common used packages included. Suitable for routers and servers. Runs from RAM. Includes AMD and Intel microcode updates.\n  Mivel az extended változatnál kiemelték, hogy szerverek számára alkalmas így emellett döntöttem.\nA telepítővel való ismerkedés céljából elsőként virtuális gépen próbáltam ki és kellemes meglepetésként ért, hogy van automatikus telepítésre lehetőség, ami annyit tesz, hogy boot-olva a telepitőről egy parancs kiadásával feltelepíthetjük a rendszert:\nsetup-alpine -q Így hamar eljutottam egy használható rendszerhez. Természetesen a telepítés alapértékekkel történt, ami nem biztos, hogy mindenki számára megfelelő, de arra a célra pont megfelelő volt, hogy magával a rendszerrel elkezdhessek ismerkedni.\nMiután úgy éreztem megvan a potenciál benne, hogy használjam a szerveren, megnéztem, hogy tudom egyéni beállításokkal telepíteni, erre a semi-automatic telepítési leírás adja meg a választ. Így hát újabb virtuális gépen való telepítésbe vágtam bele. A semi-automatic telepítési leírás nagyon jó, figyelmes olvasással mindent meg tudtam csinálni, így elérkezettnek éreztem az időt, hogy akkor mehet a vasra.\nAz alábbiakban kitérnék azon részekre, ahol némileg több energiát kellett befektetnem a telepítésnél.\nNetworking - DHCP Alapvetően a setup-interface -a (az “a” az automatikusat jelenti) paranccsal lehet beállítani a networking-et és a dhcp-t, de mivel a kis gépben ethernet és wifi is van, manuális setup-ra volt szükségem, amit a setup-interface paranccsal lehet indítani. Itt lényegében annyit kellett tennem, hogy kiválasztottam melyik interface-t akarom használni (az ethernet-et választottam) és annak beállítását már automatikusan utána megtette.\nPackage Repositories Itt a setup-apkrepos paranccsal le lehet kérni az elérhető repository listákat és lehetőségünk van választani egyet, ehhez segítség, hogy választhatjuk azt amelyik a leggyorsabb, ehhez a “find fastets” opció szolgál.\nSetup disk Ez volt számomra a legnehezebb rész. A kis gépben van egy SSD és egy HDD. Az SSD-re szeretném telepíteni az operációs rendszert, UEFI-t szeretnék használni és grub-ot bootloader-nek, a lemezt ext4-re akarom formázni és nem akarok swap partíciót.\nÉs mindenre van lehetőségem a setup-disk paranccsal:\nUSE_EFI=true setup-disk -s 0 -m sys /dev/nvme0n1   USE_EFI=ture: ezen környezeti változóval állítottam be, hogy UEFI-t akarok használni\n  -s 0: a swap partíció méretének 0-t adtam meg, így nem lesz swap partíció\n  -m sys: lényegében hogy lemezre akarom telepíteni és készítse el a partíciót(kat) és formázza meg a lemezt\n  /dev/nvme0n1: az SSD, amelyre telepíteni kívánom a rendszert\n  nincs megadva, de default ext4 fájlrendszer lesz használa a /-en, ha módosítani akarnám, akkor a ROOTFS környezeti változóval tehetném meg (lehetséges értékek: ext2, ext3, ext4, (flat) btrfs és xfs)\n  Telepítés utáni teendők A telepítés után még néhány dolgot meg kell tenni, hogy használhassuk a rendszert:\n  normal user létrehozása\n  adminisztrációs jog kiosztása normal user-hez\n  Ezeket a telepítés utáni lépéseket jól dokumentálták.\nEzen felül még az alábbiakat tettem meg:\n  A HDD mount-olása /data-ra; mountolásról ezen bejegyzésemben írtam\n  docker és docker-compose telepítése\n  A docker servicek számára könyvtár létrehozása, adott felhasználó legyen a tulajdonosa:\nsudo mkdir -p /opt/services \u0026\u0026 sudo chown $USER /opt/services   Összegzés Úgy érzem jó döntés volt váltani alpine linux-ra. Nem kell mindig a legelterjedtebb eszközt, módszert használni.\n","wordCount":"680","inLanguage":"en","datePublished":"2022-04-24T09:23:22+02:00","dateModified":"2022-04-24T09:23:22+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://thomastrinn.github.io/blog/posts/home-lab-server-setup-2/"},"publisher":{"@type":"Organization","name":"Blog","logo":{"@type":"ImageObject","url":"https://thomastrinn.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://thomastrinn.github.io/blog/ accesskey=h title="Blog (Alt + H)">Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://thomastrinn.github.io/blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://thomastrinn.github.io/blog/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://thomastrinn.github.io/blog/series/ title=Series><span>Series</span></a></li><li><a href=https://thomastrinn.github.io/blog/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://thomastrinn.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://thomastrinn.github.io/blog/posts/>Posts</a></div><h1 class=post-title>Home Lab Server: choose OS 2.0</h1><div class=post-meta><span title="2022-04-24 09:23:22 +0200 CEST">April 24, 2022</span></div></header><div class=post-content><p>Az év elején vágtam bele a home lab server projektbe és operációs rendszernek az Ubuntu Server-t választottam. A döntésről és beállításokról írt <a href=https://thomastrinn.github.io/blog/posts/home-lab-server-setup/>bejegyzésemben</a> többek közt több lehetséges operációs rendszert is felsoroltam, amelyen elgondolkoztam, hogy használhatnám, de az ubuntu popularitása és egyszerű telepítése miatt végül azokat elvetettem.</p><p>Néhány hónap elteltével azonban elkezdett motoszkálni a fejemben, hogy nekem tényleg szükségem van-e az ubuntura, kell-e nekem a sok csomag amivel jön, kell-e nekem a fix verzió, kell-e nekem a régebbi kernel (és nem egy újabb). Nincs-e másik os, ami a kis home lab server-em számára elégséges: kicsi erőforrás, kevés előtelepített csomaggal. Mivel a fő célom, hogy containerizált környezetben futtassam a használt szolgáltatásokat, valami minimális számomra elégséges lehet. És ez volt az a pont, amikor elgondolkoztam az <a href=https://archlinux.org/>arch linux</a> használatán. De valahogy nem vonzott be és elkezdtem szemezni az <a href=https://alpinelinux.org/>alpine linux</a>-szal. Az alpine kimondottan kis erőforrás igényű, minimális linux. És úgy gondoltam ez kell nekem.</p><h1 id=alpine-linux-telepítése>Alpine linux telepítése<a hidden class=anchor aria-hidden=true href=#alpine-linux-telepítése>#</a></h1><p>Be kell valljam, elsőre úgy éreztem a parancssori telepítés nehéz lesz, sok hiba lehetőséget rejt, de meglepően jó élmény volt.</p><p>Az alpine linux-nak több változata van, közülük kettő jöhetett számomra szóba:</p><ul><li><p>STANDARD: Alpine as it was intended. Just enough to get you started. Network connection is required.</p></li><li><p>EXTENDED: Most common used packages included. Suitable for routers and servers. Runs from RAM. Includes AMD and Intel microcode updates.</p></li></ul><p>Mivel az extended változatnál kiemelték, hogy szerverek számára alkalmas így emellett döntöttem.</p><p>A telepítővel való ismerkedés céljából elsőként virtuális gépen próbáltam ki és kellemes meglepetésként ért, hogy van automatikus telepítésre lehetőség, ami annyit tesz, hogy boot-olva a telepitőről egy parancs kiadásával feltelepíthetjük a rendszert:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>setup-alpine -q
</span></span></code></pre></div><p>Így hamar eljutottam egy használható rendszerhez. Természetesen a telepítés alapértékekkel történt, ami nem biztos, hogy mindenki számára megfelelő, de arra a célra pont megfelelő volt, hogy magával a rendszerrel elkezdhessek ismerkedni.</p><p>Miután úgy éreztem megvan a potenciál benne, hogy használjam a szerveren, megnéztem, hogy tudom egyéni beállításokkal telepíteni, erre a <a href=https://docs.alpinelinux.org/user-handbook/0.1a/Installing/manual.html>semi-automatic</a> telepítési leírás adja meg a választ. Így hát újabb virtuális gépen való telepítésbe vágtam bele. A semi-automatic telepítési leírás nagyon jó, figyelmes olvasással mindent meg tudtam csinálni, így elérkezettnek éreztem az időt, hogy akkor mehet a vasra.</p><p>Az alábbiakban kitérnék azon részekre, ahol némileg több energiát kellett befektetnem a telepítésnél.</p><h2 id=networking---dhcp>Networking - DHCP<a hidden class=anchor aria-hidden=true href=#networking---dhcp>#</a></h2><p>Alapvetően a <code>setup-interface -a</code> (az &ldquo;a&rdquo; az automatikusat jelenti) paranccsal lehet beállítani a networking-et és a dhcp-t, de mivel a kis gépben ethernet és wifi is van, manuális setup-ra volt szükségem, amit a <code>setup-interface</code> paranccsal lehet indítani. Itt lényegében annyit kellett tennem, hogy kiválasztottam melyik interface-t akarom használni (az ethernet-et választottam) és annak beállítását már automatikusan utána megtette.</p><h2 id=package-repositories>Package Repositories<a hidden class=anchor aria-hidden=true href=#package-repositories>#</a></h2><p>Itt a <code>setup-apkrepos</code> paranccsal le lehet kérni az elérhető repository listákat és lehetőségünk van választani egyet, ehhez segítség, hogy választhatjuk azt amelyik a leggyorsabb, ehhez a &ldquo;find fastets&rdquo; opció szolgál.</p><h2 id=setup-disk>Setup disk<a hidden class=anchor aria-hidden=true href=#setup-disk>#</a></h2><p>Ez volt számomra a legnehezebb rész. A kis gépben van egy SSD és egy HDD. Az SSD-re szeretném telepíteni az operációs rendszert, UEFI-t szeretnék használni és grub-ot bootloader-nek, a lemezt ext4-re akarom formázni és nem akarok swap partíciót.</p><p>És mindenre van lehetőségem a <code>setup-disk</code> paranccsal:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>USE_EFI<span style=color:#f92672>=</span>true setup-disk -s <span style=color:#ae81ff>0</span> -m sys /dev/nvme0n1
</span></span></code></pre></div><ul><li><p><code>USE_EFI=ture</code>: ezen környezeti változóval állítottam be, hogy UEFI-t akarok használni</p></li><li><p><code>-s 0</code>: a swap partíció méretének 0-t adtam meg, így nem lesz swap partíció</p></li><li><p><code>-m sys</code>: lényegében hogy lemezre akarom telepíteni és készítse el a partíciót(kat) és formázza meg a lemezt</p></li><li><p><code>/dev/nvme0n1</code>: az SSD, amelyre telepíteni kívánom a rendszert</p></li><li><p>nincs megadva, de default ext4 fájlrendszer lesz használa a <code>/</code>-en, ha módosítani akarnám, akkor a <code>ROOTFS</code> környezeti változóval tehetném meg (lehetséges értékek: ext2, ext3, ext4, (flat) btrfs és xfs)</p></li></ul><h1 id=telepítés-utáni-teendők>Telepítés utáni teendők<a hidden class=anchor aria-hidden=true href=#telepítés-utáni-teendők>#</a></h1><p>A telepítés után még néhány dolgot meg kell tenni, hogy használhassuk a rendszert:</p><ul><li><p>normal user létrehozása</p></li><li><p>adminisztrációs jog kiosztása normal user-hez</p></li></ul><p>Ezeket a <a href=https://docs.alpinelinux.org/user-handbook/0.1a/Working/post-install.html>telepítés utáni lépéseket</a> jól dokumentálták.</p><p>Ezen felül még az alábbiakat tettem meg:</p><ul><li><p>A HDD mount-olása <code>/data</code>-ra; <a href=https://thomastrinn.github.io/blog/posts/mounting-a-file-system/>mountolásról ezen bejegyzésemben írtam</a></p></li><li><p><a href=https://wiki.alpinelinux.org/wiki/Docker>docker és docker-compose</a> telepítése</p></li><li><p>A docker servicek számára könyvtár létrehozása, adott felhasználó legyen a tulajdonosa:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir -p /opt/services <span style=color:#f92672>&amp;&amp;</span> sudo chown $USER /opt/services 
</span></span></code></pre></div></li></ul><h1 id=összegzés>Összegzés<a hidden class=anchor aria-hidden=true href=#összegzés>#</a></h1><p>Úgy érzem jó döntés volt váltani alpine linux-ra. Nem kell mindig a legelterjedtebb eszközt, módszert használni.</p></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://thomastrinn.github.io/blog/>Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>