<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Home Lab Server Setup | Blog</title><meta name=keywords content><meta name=description content="A home lab server operációs rendszerének némi kutakodás után az ubuntu server-t választottam, mivel linux szerverek esetén túlnyomórészt ezt használják.
A kutakodás során az alábbiakat derítettem ki:
A debian a legstabilabb és legbiztonságosabb, de hátránya hogy mindig elavult alkalmazásokat támogat, az előbbiek érdekében.
Az ubuntu (debian alapú) a legnépszerűbb és legelterjedtebben használt, biztonságos és stabil, meghatározott release ciklussal és support-tal.
Az arch linux nem igen kerül elő mint server operációs rendszer, de vannak vállalkozó szellemű cégek."><meta name=author content><link rel=canonical href=https://thomastrinn.github.io/blog/posts/home-lab-server-setup/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/blog/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://thomastrinn.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://thomastrinn.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://thomastrinn.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://thomastrinn.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://thomastrinn.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Home Lab Server Setup"><meta property="og:description" content="A home lab server operációs rendszerének némi kutakodás után az ubuntu server-t választottam, mivel linux szerverek esetén túlnyomórészt ezt használják.
A kutakodás során az alábbiakat derítettem ki:
A debian a legstabilabb és legbiztonságosabb, de hátránya hogy mindig elavult alkalmazásokat támogat, az előbbiek érdekében.
Az ubuntu (debian alapú) a legnépszerűbb és legelterjedtebben használt, biztonságos és stabil, meghatározott release ciklussal és support-tal.
Az arch linux nem igen kerül elő mint server operációs rendszer, de vannak vállalkozó szellemű cégek."><meta property="og:type" content="article"><meta property="og:url" content="https://thomastrinn.github.io/blog/posts/home-lab-server-setup/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-03T18:15:00+01:00"><meta property="article:modified_time" content="2022-03-03T18:15:00+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Home Lab Server Setup"><meta name=twitter:description content="A home lab server operációs rendszerének némi kutakodás után az ubuntu server-t választottam, mivel linux szerverek esetén túlnyomórészt ezt használják.
A kutakodás során az alábbiakat derítettem ki:
A debian a legstabilabb és legbiztonságosabb, de hátránya hogy mindig elavult alkalmazásokat támogat, az előbbiek érdekében.
Az ubuntu (debian alapú) a legnépszerűbb és legelterjedtebben használt, biztonságos és stabil, meghatározott release ciklussal és support-tal.
Az arch linux nem igen kerül elő mint server operációs rendszer, de vannak vállalkozó szellemű cégek."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://thomastrinn.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Home Lab Server Setup","item":"https://thomastrinn.github.io/blog/posts/home-lab-server-setup/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Home Lab Server Setup","name":"Home Lab Server Setup","description":"A home lab server operációs rendszerének némi kutakodás után az ubuntu server-t választottam, mivel linux szerverek esetén túlnyomórészt ezt használják.\nA kutakodás során az alábbiakat derítettem ki:\nA debian a legstabilabb és legbiztonságosabb, de hátránya hogy mindig elavult alkalmazásokat támogat, az előbbiek érdekében.\nAz ubuntu (debian alapú) a legnépszerűbb és legelterjedtebben használt, biztonságos és stabil, meghatározott release ciklussal és support-tal.\nAz arch linux nem igen kerül elő mint server operációs rendszer, de vannak vállalkozó szellemű cégek.","keywords":[],"articleBody":"A home lab server operációs rendszerének némi kutakodás után az ubuntu server-t választottam, mivel linux szerverek esetén túlnyomórészt ezt használják.\nA kutakodás során az alábbiakat derítettem ki:\nA debian a legstabilabb és legbiztonságosabb, de hátránya hogy mindig elavult alkalmazásokat támogat, az előbbiek érdekében.\nAz ubuntu (debian alapú) a legnépszerűbb és legelterjedtebben használt, biztonságos és stabil, meghatározott release ciklussal és support-tal.\nAz arch linux nem igen kerül elő mint server operációs rendszer, de vannak vállalkozó szellemű cégek. Az előnye a rolling release model, aminek köszönhetően mindig a legfrissebb alkalmazás verziókat érjük el.\nA manjaro linux egy arch linux alapú rendszer, amely egy plusz tesztelési szakaszt követően enged be új alkalmazás verziókat, így stabilabb, mint az arch. Pár éve még létezett manjaro architect változat, ami DE nélkül manjaro verziót biztosított.\nAz alpine linux egy nagyon kicsi és kis erőforrás igényű linux.\nEzen információk birtokában figyelembe véve, hogy a telepítést követően egyből használhassam a server-t és bármi gond esetén könnyedén találjak segítséget a net-en, döntöttem az ubuntu mellett.\nUbuntu Server telepítése A telepítési útmutató átolvasását követően a telepítés nem volt bonyolult.\nTelepítés utáni beállítások 1. Private and Public Key Authentication A szerver ssh-val való eléréséhez felhasználó név és jelszó megadása helyett ssh-key használatát részesítem előnyben. Az ssh-key előállításáról és használatáról ezen korábbi bejegyzésemben található a leírás.\n2. Journal méret A journal idővel egyre több helyet foglal el, ennek határt szabhatunk ezen korábbi bejegyzésemben leírtak alapján.\n3. Auto update Debian alapú rendszerek esetén az unattended-upgrades csomag biztosít lehetőséget update-ek automatikus futtatására. Telepítését és beállítását ezen korábbi bejegyzésben taglalom.\n4. visudo editor beállítása A /etc/sudoers fájl szerkesztése a visudo paranccsal lehetséges, azonban alap esetben a szerkesztő ami használatban van az a nano, de ez módosítható.\nEgyszeri alkalommal az EDITOR környezeti változónak érték adással a parancs futtatásakor:\nsudo EDITOR=vim visudo Így a vim szövegszerkesztővel szerkeszthetjük a fájlt. Azonban ez sem mindig működik, mert a sudoers fájlban be lehet állítva, hogy ne tartsa meg a környezeti fájlokat, ha a sudo használva van.\nAhhoz, hogy alapértelmezetten a vim legyen használva az /etc/sudoers fájlba, fel kell venni az alábbi sort:\nDefaults editor=/usr/bin/vim 5. shutdown jelszó nélkül A shutdown, poweroff és reboot parancsokhoz (vagy akár más parancsokhoz is) beállítható, hogy ne kelljen jelszót használni, de továbbra is csak sudo-val adhatóak ki. Ehhez a sudoers fájlban fel kell venni az alábbit:\n# Allow members of group sudo to execute shutdown, poweroff, reboot commands without password %sudo ALL=(ALL) NOPASSWD: /sbin/shutdown, /sbin/poweroff, /sbin/reboot ","wordCount":"400","inLanguage":"en","datePublished":"2022-03-03T18:15:00+01:00","dateModified":"2022-03-03T18:15:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://thomastrinn.github.io/blog/posts/home-lab-server-setup/"},"publisher":{"@type":"Organization","name":"Blog","logo":{"@type":"ImageObject","url":"https://thomastrinn.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://thomastrinn.github.io/blog/ accesskey=h title="Blog (Alt + H)">Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://thomastrinn.github.io/blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://thomastrinn.github.io/blog/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://thomastrinn.github.io/blog/series/ title=Series><span>Series</span></a></li><li><a href=https://thomastrinn.github.io/blog/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://thomastrinn.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://thomastrinn.github.io/blog/posts/>Posts</a></div><h1 class=post-title>Home Lab Server Setup</h1><div class=post-meta><span title='2022-03-03 18:15:00 +0100 CET'>March 3, 2022</span></div></header><div class=post-content><p>A home lab server operációs rendszerének némi kutakodás után az ubuntu server-t választottam, mivel linux szerverek esetén túlnyomórészt ezt használják.</p><p>A kutakodás során az alábbiakat derítettem ki:</p><ul><li><p>A debian a legstabilabb és legbiztonságosabb, de hátránya hogy mindig elavult alkalmazásokat támogat, az előbbiek érdekében.</p></li><li><p>Az ubuntu (debian alapú) a legnépszerűbb és legelterjedtebben használt, biztonságos és stabil, meghatározott release ciklussal és support-tal.</p></li><li><p>Az arch linux nem igen kerül elő mint server operációs rendszer, de vannak vállalkozó szellemű cégek. Az előnye a rolling release model, aminek köszönhetően mindig a legfrissebb alkalmazás verziókat érjük el.</p></li><li><p>A manjaro linux egy arch linux alapú rendszer, amely egy plusz tesztelési szakaszt követően enged be új alkalmazás verziókat, így stabilabb, mint az arch. Pár éve még létezett manjaro architect változat, ami DE nélkül manjaro verziót biztosított.</p></li><li><p>Az alpine linux egy nagyon kicsi és kis erőforrás igényű linux.</p></li></ul><p>Ezen információk birtokában figyelembe véve, hogy a telepítést követően egyből használhassam a server-t és bármi gond esetén könnyedén találjak segítséget a net-en, döntöttem az ubuntu mellett.</p><h1 id=ubuntu-server-telepítése>Ubuntu Server telepítése<a hidden class=anchor aria-hidden=true href=#ubuntu-server-telepítése>#</a></h1><p>A <a href=https://ubuntu.com/tutorials/install-ubuntu-server#1-overview>telepítési útmutató</a> átolvasását követően a telepítés nem volt bonyolult.</p><h1 id=telepítés-utáni-beállítások>Telepítés utáni beállítások<a hidden class=anchor aria-hidden=true href=#telepítés-utáni-beállítások>#</a></h1><h2 id=1-private-and-public-key-authentication>1. Private and Public Key Authentication<a hidden class=anchor aria-hidden=true href=#1-private-and-public-key-authentication>#</a></h2><p>A szerver ssh-val való eléréséhez felhasználó név és jelszó megadása helyett ssh-key használatát részesítem előnyben. Az ssh-key előállításáról és használatáról <a href=https://thomastrinn.github.io/blog/posts/private-and-public-key-authentication/>ezen korábbi bejegyzésemben</a> található a leírás.</p><h2 id=2-journal-méret>2. Journal méret<a hidden class=anchor aria-hidden=true href=#2-journal-méret>#</a></h2><p>A journal idővel egyre több helyet foglal el, ennek határt szabhatunk <a href=https://thomastrinn.github.io/blog/posts/linux-systemd-journal/>ezen korábbi bejegyzésemben</a> leírtak alapján.</p><h2 id=3-auto-update>3. Auto update<a hidden class=anchor aria-hidden=true href=#3-auto-update>#</a></h2><p>Debian alapú rendszerek esetén az <a href=https://wiki.debian.org/UnattendedUpgrades>unattended-upgrades</a> csomag biztosít lehetőséget update-ek automatikus futtatására. Telepítését és beállítását <a href=https://thomastrinn.github.io/blog/posts/pi3-server-part-02-auto-update/>ezen korábbi bejegyzésben</a> taglalom.</p><h2 id=4-visudo-editor-beállítása>4. <code>visudo</code> editor beállítása<a hidden class=anchor aria-hidden=true href=#4-visudo-editor-beállítása>#</a></h2><p>A <code>/etc/sudoers</code> fájl szerkesztése a <code>visudo</code> paranccsal lehetséges, azonban alap esetben a szerkesztő ami használatban van az a <code>nano</code>, de ez módosítható.</p><p>Egyszeri alkalommal az <code>EDITOR</code> környezeti változónak érték adással a parancs futtatásakor:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo EDITOR<span style=color:#f92672>=</span>vim visudo
</span></span></code></pre></div><p>Így a <code>vim</code> szövegszerkesztővel szerkeszthetjük a fájlt. Azonban ez sem mindig működik, mert a sudoers fájlban be lehet állítva, hogy ne tartsa meg a környezeti fájlokat, ha a sudo használva van.</p><p>Ahhoz, hogy alapértelmezetten a <code>vim</code> legyen használva az <code>/etc/sudoers</code> fájlba, fel kell venni az alábbi sort:</p><pre tabindex=0><code class=language-textile data-lang=textile>Defaults editor=/usr/bin/vim
</code></pre><h2 id=5-shutdown-jelszó-nélkül>5. <code>shutdown</code> jelszó nélkül<a hidden class=anchor aria-hidden=true href=#5-shutdown-jelszó-nélkül>#</a></h2><p>A <code>shutdown</code>, <code>poweroff</code> és <code>reboot</code> parancsokhoz (vagy akár más parancsokhoz is) beállítható, hogy ne kelljen jelszót használni, de továbbra is csak <code>sudo</code>-val adhatóak ki. Ehhez a sudoers fájlban fel kell venni az alábbit:</p><pre tabindex=0><code class=language-textile data-lang=textile># Allow members of group sudo to execute shutdown, poweroff, reboot commands without password
%sudo  ALL=(ALL) NOPASSWD: /sbin/shutdown, /sbin/poweroff, /sbin/reboot
</code></pre></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://thomastrinn.github.io/blog/>Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>